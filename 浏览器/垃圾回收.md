# 垃圾回收
## 一、垃圾回收是什么
    程序运行过程中会产生一些无用的“垃圾”，这些“垃圾”包括程序已经使用后面不再使用的对象、函数等占用的内存空间以及程序压根就不会使用的内存（例如一些多余的变量）等，来及回收就是专门清理这些内存的
## 二、垃圾如何产生的
    程序编写过程中创建的对象、函数等在程序执行结束就不再使用或者是在程序执行过程中就已经确定不会再使用的变量、函数等都可以被称为垃圾，可以通过“可达性”来判断哪些是垃圾，可达性指的是在垃圾回收过程中从程序顶部开始
    访问内部的局部变量，所有访问不到的变量、函数等都被称为垃圾
## 三、为什么要垃圾回收
    浏览器给js提供的运行环境中分配的内存是有限的，如果不进行垃圾回收，随着程序的不断执行，垃圾会越来越多，占用的内存也会越来最大，最终当占用内存超出限制之后，程序就会崩溃，即使没有超出限制也会由于大量占用内存空间
    导致程序性能变差
## 四、垃圾回收的方案
### 4.1、标记清除（主流方法）
#### 4.1.1、策略
    分为标记和清除两个阶段，主要步骤如下：
    第一步：程序运行时给内存中的所有变量都加上标记0，预设他们全部为垃圾
    第二步：从根对象开始遍历，将所有遍历不到的节点标记为1；
    第三步：清理所有标记为0的垃圾变量，销毁并回收他们所占用的内存空间；
    第四步：最后，将所有的变量标记为0，等待下轮垃圾回收进行鉴别回收
#### 4.1.2、优点
    实现简单，只需要打标记，改标记即可
#### 4.1.3、缺点
##### A、内存碎片化
    标记清除法在回收内存后，剩余内存的位置是不变的，这就会导致内存空间中的可用内存空间不连续，
##### B、分配速度慢
    
### 4.2、引用计数
## 五、V8对垃圾回收策略的优化
### 5.1、分代回收策略
##### A、新生代回收
##### B、老生代回收
### 5.2、并行回收
### 5.3、增量标记与懒性清理